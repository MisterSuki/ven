"use strict";var Vencord=(()=>{var Ve=Object.defineProperty;var vr=Object.getOwnPropertyDescriptor;var kr=Object.getOwnPropertyNames;var Rr=Object.prototype.hasOwnProperty;var l=(e,t)=>()=>(e&&(t=e(e=0)),t);var N=(e,t)=>{for(var n in t)Ve(e,n,{get:t[n],enumerable:!0})},Ir=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kr(t))!Rr.call(e,o)&&o!==n&&Ve(e,o,{get:()=>t[o],enumerable:!(r=vr(t,o))||r.enumerable});return e};var Mr=e=>Ir(Ve({},"__esModule",{value:!0}),e);function s(e){return e}var u=l(()=>{"use strict"});var V,c,m=l(()=>{"use strict";V="webpackChunkdiscord_app",c=Object.freeze({Ven:{name:"Vendicated",id:343383572805058560n},Arjix:{name:"ArjixWasTaken",id:674710789138939916n},Cyn:{name:"Cynosphere",id:150745989836308480n},Megu:{name:"Megumin",id:545581357812678656n},botato:{name:"botato",id:440990343899643943n},obscurity:{name:"obscurity",id:336678828233588736n},rushii:{name:"rushii",id:295190422244950017n},Glitch:{name:"Glitchy",id:269567451199569920n}})});var Be,an=l(()=>{"use strict";u();m();Be=s({name:"STFU",description:"Disables the 'HOLD UP' banner in the console",authors:[c.Ven],patches:[{find:"setDevtoolsCallbacks",replacement:{match:/if\(.{0,10}\|\|"0.0.0"!==.{0,2}\.remoteApp\.getVersion\(\)\)/,replace:"if(false)"}}]})});var Ge,cn=l(()=>{"use strict";u();m();Ge=s({name:"CommandsAPI",authors:[c.Arjix],description:"Api required by anything that uses commands",patches:[{find:'"giphy","tenor"',replacement:[{match:/(?<=\w=)(\w)(\.filter\(.{0,30}giphy)/,replace:"Vencord.Api.Commands._init($1)$2"}]}]})});var He,ln=l(()=>{"use strict";m();u();He=s({name:"MessageEventsAPI",description:"Api required by anything using message events.",authors:[c.Arjix],patches:[{find:"sendMessage:function",replacement:[{match:/(?<=_sendMessage:function\([^)]+\)){/,replace:"{Vencord.Api.MessageEvents._handlePreSend(...arguments);"},{match:/(?<=\beditMessage:function\([^)]+\)){/,replace:"{Vencord.Api.MessageEvents._handlePreEdit(...arguments);"}]},{find:"if(e.altKey){",replacement:{match:/var \w=(\w)\.id,\w=(\w)\.id;return .{1,2}\.useCallback\(\(?function\((.{1,2})\){/,replace:(e,t,n,r)=>`var _msg=${t},_chan=${n};${e}Vencord.Api.MessageEvents._handleClick(_msg, _chan, ${r});`}}]})});var je,dn=l(()=>{"use strict";m();u();je=s({name:"ApiNotices",description:"Fixes notices being automatically dismissed",authors:[c.Ven],required:!0,patches:[{find:"updateNotice:",replacement:[{match:/;(.{1,2}=null;)(?=.{0,50}updateNotice)/g,replace:";if(Vencord.Api.Notices.currentNotice)return !1;$1"},{match:/(?<=NOTICE_DISMISS:function.+?){(?=if\(null==(.+?)\))/,replace:'{if($1?.id=="VencordNotice")return ($1=null,Vencord.Api.Notices.nextNotice(),true);'}]}]})});var We,pn=l(()=>{"use strict";u();m();We=s({name:"BANger",description:"Replaces the GIF in the ban dialogue with a custom one.",authors:[{name:"Xinto",id:423915768191647755n},c.Glitch],patches:[{find:"BAN_CONFIRM_TITLE.",replacement:{match:/src:\w\(\d+\)/g,replace:'src: "https://i.imgur.com/wp5q52C.mp4"'}}]})});var ze,un=l(()=>{"use strict";m();u();ze=s({name:"BetterGifAltText",authors:[c.Ven],description:"Change GIF alt text from simply being 'GIF' to containing the gif tags / filename",patches:[{find:"onCloseImage=",replacement:{match:/(return .{1,2}\.createElement.{0,50}isWindowFocused)/,replace:"Vencord.Plugins.plugins.BetterGifAltText.altify(e);$1"}},{find:'preload:"none","aria',replacement:{match:/\?.{0,5}\.Messages\.GIF/,replace:"?(e.alt='GIF',Vencord.Plugins.plugins.BetterGifAltText.altify(e))"}}],altify(e){if(e.alt!=="GIF")return e.alt;let t=e.original||e.src;try{t=decodeURI(t)}catch{}let n=t.slice(t.lastIndexOf("/")+1).replace(/\d/g,"").replace(/.gif$/,"").split(/[,\-_ ]+/g).slice(0,20).join(" ");return n.length>300&&(n=n.slice(0,300)+"..."),n&&(e.alt+=` - ${n}`),e.alt}})});var Qe,mn=l(()=>{"use strict";u();m();Qe=s({name:"BetterUploadButton",authors:[c.obscurity],description:"Upload with a single click, open menu with right click",patches:[{find:"Messages.CHAT_ATTACH_UPLOAD_OR_INVITE",replacement:{match:/CHAT_ATTACH_UPLOAD_OR_INVITE,onDoubleClick:([^,]+),onClick:([^,]+)}}/,replace:"CHAT_ATTACH_UPLOAD_OR_INVITE,onClick:$1,onContextMenu:$2}}"}}]})});var fn,gn=l(()=>{"use strict";fn=["action_object_map","action_type_map","action_ref_map","spm@*.aliexpress.com","scm@*.aliexpress.com","aff_platform","aff_trace_key","algo_expid@*.aliexpress.*","algo_pvid@*.aliexpress.*","btsid","ws_ab_test","pd_rd_*@amazon.*","_encoding@amazon.*","psc@amazon.*","tag@amazon.*","ref_@amazon.*","pf_rd_*@amazon.*","pf@amazon.*","crid@amazon.*","keywords@amazon.*","sprefix@amazon.*","sr@amazon.*","ie@amazon.*","node@amazon.*","qid@amazon.*","callback@bilibili.com","cvid@bing.com","form@bing.com","sk@bing.com","sp@bing.com","sc@bing.com","qs@bing.com","pq@bing.com","sc_cid","mkt_tok","trk","trkCampaign","ga_*","gclid","gclsrc","hmb_campaign","hmb_medium","hmb_source","spReportId","spJobID","spUserID","spMailingID","itm_*","s_cid","elqTrackId","elqTrack","assetType","assetId","recipientId","campaignId","siteId","mc_cid","mc_eid","pk_*","sc_campaign","sc_channel","sc_content","sc_medium","sc_outcome","sc_geo","sc_country","nr_email_referer","vero_conv","vero_id","yclid","_openstat","mbid","cmpid","cid","c_id","campaign_id","Campaign","hash@ebay.*","fb_action_ids","fb_action_types","fb_ref","fb_source","fbclid","refsrc@facebook.com","hrc@facebook.com","gs_l","gs_lcp@google.*","ved@google.*","ei@google.*","sei@google.*","gws_rd@google.*","gs_gbg@google.*","gs_mss@google.*","gs_rn@google.*","_hsenc","_hsmi","__hssc","__hstc","hsCtaTracking","source@sourceforge.net","position@sourceforge.net","t@*.twitter.com","s@*.twitter.com","ref_*@*.twitter.com","tt_medium","tt_content","lr@yandex.*","redircnt@yandex.*","feature@youtube.com","kw@youtube.com","wt_zmc","utm_source","utm_content","utm_medium","utm_campaign","utm_term","si@open.spotify.com"]});var k,Z=l(()=>{"use strict";k=class{constructor(t,n){this.name=t;this.color=n}_log(t,n,r){console[t](`%c Vencord %c %c ${this.name} `,`background: ${n}; color: black; font-weight: bold; border-radius: 5px;`,"",`background: ${this.color}; color: black; font-weight: bold; border-radius: 5px;`,...r)}log(...t){this._log("log","#a6d189",t)}info(...t){this._log("info","#a6d189",t)}error(...t){this._log("error","#e78284",t)}warn(...t){this._log("warn","#e5c890",t)}debug(...t){this._log("debug","#eebebe",t)}}});var et={};N(et,{_handleClick:()=>Dr,_handlePreEdit:()=>Ar,_handlePreSend:()=>Nr,addClickListener:()=>Xe,addPreEditListener:()=>W,addPreSendListener:()=>j,removeClickListener:()=>Ze,removePreEditListener:()=>Q,removePreSendListener:()=>z});function Nr(e,t,n){for(let r of Ke)try{r(e,t,n)}catch(o){qe.error(`MessageSendHandler: Listener encoutered an unknown error. (${o})`)}}function Ar(e,t,n){for(let r of Ye)try{r(e,t,n)}catch(o){qe.error(`MessageEditHandler: Listener encoutered an unknown error. (${o})`)}}function j(e){return Ke.add(e),e}function W(e){return Ye.add(e),e}function z(e){return Ke.delete(e)}function Q(e){return Ye.delete(e)}function Dr(e,t,n){for(let r of Je)try{r(e,t,n)}catch(o){qe.error(`MessageClickHandler: Listener encoutered an unknown error. (${o})`)}}function Xe(e){return Je.add(e),e}function Ze(e){return Je.delete(e)}var qe,Ke,Ye,Je,ee=l(()=>{"use strict";Z();qe=new k("MessageEvents","#e5c890"),Ke=new Set,Ye=new Set;Je=new Set});var hn,Fr,tt,yn=l(()=>{"use strict";gn();ee();u();hn=/[\\^$.*+?()[\]{}|]/g,Fr=RegExp(hn.source),tt=s({name:"clearURLs",description:"Removes tracking garbage from URLs",authors:[{name:"adryd",id:0n}],dependencies:["MessageEventsAPI"],escapeRegExp(e){return e&&Fr.test(e)?e.replace(hn,"\\$&"):e||""},createRules(){let e=fn;this.universalRules=new Set,this.rulesByHost=new Map,this.hostRules=new Map;for(let t of e){let n=t.split("@"),r=new RegExp("^"+this.escapeRegExp(n[0]).replace(/\\\*/,".+?")+"$");if(!n[1]){this.universalRules.add(r);continue}let o=new RegExp("^(www\\.)?"+this.escapeRegExp(n[1]).replace(/\\\./,"\\.").replace(/^\\\*\\\./,"(.+?\\.)?").replace(/\\\*/,".+?")+"$"),i=o.toString();this.hostRules.set(i,o),this.rulesByHost.get(i)==null&&this.rulesByHost.set(i,new Set),this.rulesByHost.get(i).add(r)}},removeParam(e,t,n){(t===e||e instanceof RegExp&&e.test(t))&&n.delete(t)},replacer(e){try{var t=new URL(e)}catch{return e}return t.searchParams.entries().next().done?e:(this.universalRules.forEach(n=>{t.searchParams.forEach((r,o,i)=>{this.removeParam(n,o,i)})}),this.hostRules.forEach((n,r)=>{!n.test(t.hostname)||this.rulesByHost.get(r).forEach(o=>{t.searchParams.forEach((i,p,a)=>{this.removeParam(o,p,a)})})}),t.toString())},onSend(e){e.content.match(/http(s)?:\/\//)&&(e.content=e.content.replace(/(https?:\/\/[^\s<]+[^<.,:;"'>)|\]\s])/g,t=>this.replacer(t)))},start(){this.createRules(),this.preSend=j((e,t)=>this.onSend(t)),this.preEdit=W((e,t,n)=>this.onSend(n))},stop(){z(this.preSend),Q(this.preEdit)}})});function ot(e){if(q!==void 0)throw"no.";me=e.push([[Symbol()],{},t=>t]),q=me.c,e.pop()}function B(e,t=!0){if(typeof e!="function")throw new Error("Invalid filter. Expected a function got "+typeof e);for(let n in q){let r=q[n];if(!!r?.exports){if(e(r.exports))return r.exports;if(typeof r.exports=="object"){if(r.exports.default&&e(r.exports.default))return t?r.exports.default:r.exports;for(let o in r.exports)if(o.length<=3){let i=r.exports[o];if(i&&e(i))return i}}}}return null}function bn(e,t=!0){if(typeof e!="function")throw new Error("Invalid filter. Expected a function got "+typeof e);let n=[];for(let r in q){let o=q[r];if(!!o?.exports){if(e(o.exports))n.push(o.exports);else if(typeof o.exports!="object")continue;if(o.exports.default&&e(o.exports.default))n.push(t?o.exports.default:o.exports);else for(let i in o.exports)if(i.length<=3){let p=o.exports[i];p&&e(p)&&n.push(p)}}}return n}function K(...e){return B(S.byProps(e))}function Lr(...e){return bn(S.byProps(e))}function Ur(e){return B(S.byDisplayName(e))}function h(e,t){if(typeof e=="string")e=S.byProps([e]);else if(Array.isArray(e))e=S.byProps(e);else if(typeof e!="function")throw new Error("filter must be a string, string[] or function, got "+typeof e);let n=B(e);if(n)return void t(n);En.set(e,t)}function Or(e){rt.add(e)}function $r(e){rt.delete(e)}function Vr(...e){let t={},n=me.m;e:for(let r in n){let o=n[r].original??n[r],i=o.toString();for(let p of e)if(typeof p=="string"&&!i.includes(p)||p instanceof RegExp&&!p.test(i))continue e;t[r]=o}return t}function Br(e){let t=me.m[e];if(!t)return null;let n=`
// [EXTRACTED] WebpackModule${e}
// WARNING: This module was extracted to be more easily readable.
//          This module is NOT ACTUALLY USED! This means putting breakpoints will have NO EFFECT!!

${t.toString()}
//# sourceURL=ExtractedWebpackModule${e}
`;return(0,eval)(n)}var ke,nt,me,q,S,En,rt,it=l(()=>{"use strict";nt=new Promise(e=>ke=e),S={byProps:e=>e.length===1?t=>t[e[0]]!==void 0:t=>e.every(n=>t[n]!==void 0),byDisplayName:e=>t=>t.default?.displayName===e,byCode:(...e)=>t=>{if(typeof t!="function")return!1;let n=Function.prototype.toString.call(t);for(let r of e)if(!n.includes(r))return!1;return!0}},En=new Map,rt=new Set});var st={};N(st,{Common:()=>at,_initWebpack:()=>ot,_resolveReady:()=>ke,addListener:()=>Or,cache:()=>q,extract:()=>Br,filters:()=>S,find:()=>B,findAll:()=>bn,findAllByProps:()=>Lr,findByDisplayName:()=>Ur,findByProps:()=>K,listeners:()=>rt,onceReady:()=>nt,removeListener:()=>$r,search:()=>Vr,subscriptions:()=>En,waitFor:()=>h,wreq:()=>me});var A=l(()=>{"use strict";it();T()});function Gr(e){let t;return()=>t??(t=e())}function te(e){let t=Gr(()=>B(e));return new Proxy(()=>null,{get:(n,r)=>t()[r],set:(n,r,o)=>t()[r]=o,has:(n,r)=>r in t(),apply:(n,r,o)=>t().apply(r,o),ownKeys:()=>Reflect.ownKeys(t()),construct:(n,r,o)=>Reflect.construct(t(),r,o),deleteProperty:(n,r)=>delete t()[r],defineProperty:(n,r,o)=>!!Object.defineProperty(t(),r,o)})}function Re(e,t=null){let[n,r]=b.useState({value:t,error:null,pending:!0});return b.useEffect(()=>{let o=!0;return e().then(i=>o&&r({value:i,error:null,pending:!1})).catch(i=>o&&r({value:null,error:i,pending:!1})),()=>void(o=!1)},[]),[n.value,n.error,n.pending]}function Ie(e,t){for(let n in t){let r=t[n];typeof r=="object"&&!Array.isArray(r)?(e[n]??={},Ie(e[n],r)):e[n]??=r}return e}function xn(e,t=n=>n){let{length:n}=e;if(n===0)return"";if(n===1)return t(e[0]);let r="";for(let o=0;o<n;o++)r+=t(e[o]),n-o>2?r+=", ":n-o>1&&(r+=" and ");return r}function fe(...e){return e.join(" ")}function _n(e){return new Promise(t=>setTimeout(t,e))}var Y=l(()=>{"use strict";A();T()});var at={};N(at,{Alerts:()=>J,Button:()=>C,Card:()=>re,ChannelStore:()=>wn,FluxDispatcher:()=>M,Forms:()=>E,GuildStore:()=>Sn,Margins:()=>D,Parser:()=>ie,React:()=>b,Router:()=>Me,SelectedChannelStore:()=>ge,Switch:()=>oe,Toasts:()=>x,Tooltip:()=>Pn,UserStore:()=>ne});var D,M,b,Sn,ne,ge,wn,E,re,C,oe,Pn,Me,ie,J,Hr,jr,x,T=l(()=>{"use strict";it();Y();D=te(S.byProps(["marginTop20"])),E={},Hr={MESSAGE:0,SUCCESS:1,FAILURE:2,CUSTOM:3},jr={TOP:0,BOTTOM:1},x={Type:Hr,Position:jr,genId:()=>(Math.random()||Math.random()).toString(36).slice(2)};h("useState",e=>b=e);h(["dispatch","subscribe"],e=>{M=e;let t=()=>{e.unsubscribe("CONNECTION_OPEN",t),ke()};e.subscribe("CONNECTION_OPEN",t)});h(["getCurrentUser","initialize"],e=>ne=e);h("getSortedPrivateChannels",e=>wn=e);h("getCurrentlySelectedChannelId",e=>ge=e);h("getGuildCount",e=>Sn=e);h(["Hovers","Looks","Sizes"],e=>C=e);h(S.byCode("helpdeskArticleId"),e=>oe=e);h(["Positions","Colors"],e=>Pn=e);h(e=>e.Types?.PRIMARY==="cardPrimary",e=>re=e);h(e=>e.Tags&&S.byCode("errorSeparator")(e),e=>E.FormTitle=e);h(e=>e.Tags&&S.byCode("titleClassName","sectionTitle")(e),e=>E.FormSection=e);h(e=>e.Types?.INPUT_PLACEHOLDER,e=>E.FormText=e);h(e=>{if(typeof e!="function")return!1;let t=e.toString();return t.length<200&&t.includes("divider")},e=>E.FormDivider=e);h(S.byCode("currentToast?"),e=>x.show=e);h(S.byCode("currentToast:null"),e=>x.pop=e);h(["show","close"],e=>J=e);h("parseTopic",e=>ie=e);h(["open","saveAccountChanges"],e=>Me=e)});var ct,Cn=l(()=>{"use strict";m();u();T();ct=s({name:"ClickableRoleDot",authors:[c.Ven],description:"Makes RoleDots (Accessibility Feature) copy colour to clipboard on click",patches:[{find:"M0 4C0 1.79086 1.79086 0 4 0H16C18.2091 0 20 1.79086 20 4V16C20 18.2091 18.2091 20 16 20H4C1.79086 20 0 18.2091 0 16V4Z",replacement:{match:/(viewBox:"0 0 20 20")/,replace:"$1,onClick:()=>Vencord.Plugins.plugins.ClickableRoleDot.copyToClipBoard(e.color)"}}],copyToClipBoard(e){window.DiscordNative.clipboard.copy(e),x.show({message:"Copied to Clipboard!",type:x.Type.SUCCESS,id:x.genId(),options:{duration:1e3,position:x.Position.BOTTOM}})}})});var lt,dt,Tn=l(()=>{"use strict";m();u();lt=e=>()=>{throw new Error(`'${e}' is Discord Desktop only.`)},dt=s({name:"ConsoleShortcuts",description:"Adds shorter Aliases for many things on the window. Run `shortcutList` for a list.",authors:[c.Ven],getShortcuts(){return{toClip:IS_WEB?lt("toClip"):window.DiscordNative.clipboard.copy,fromClip:IS_WEB?lt("fromClip"):window.DiscordNative.clipboard.read,wp:Vencord.Webpack,wpc:Vencord.Webpack.wreq.c,wreq:Vencord.Webpack.wreq,wpsearch:Vencord.Webpack.search,wpex:Vencord.Webpack.extract,findByProps:Vencord.Webpack.findByProps,find:Vencord.Webpack.find,Plugins:Vencord.Plugins,React:Vencord.Webpack.Common.React,Settings:Vencord.Settings,Api:Vencord.Api,reload:()=>location.reload(),restart:IS_WEB?lt("restart"):window.DiscordNative.app.relaunch}},start(){let e=this.getShortcuts();window.shortcutList=e;for(let[t,n]of Object.entries(e))window[t]=n},stop(){delete window.shortcutList;for(let e in this.getShortcuts())delete window[e]}})});var pt,vn=l(()=>{"use strict";m();u();pt=s({name:"Experiments",authors:[c.Ven,c.Megu],description:"Enable Experiments",patches:[{find:"Object.defineProperties(this,{isDeveloper",replacement:{match:/(?<={isDeveloper:\{[^}]+,get:function\(\)\{return )\w/,replace:"true"}},{find:'type:"user",revision',replacement:{match:/(\w)\|\|"CONNECTION_OPEN".+?;/g,replace:"$1=!0;"}}]})});var ut,kn=l(()=>{"use strict";m();u();ut=s({name:"iLoveSpam",description:"Do not hide messages from 'likely spammers'",authors:[c.botato,{name:"Iryis",id:118437263754395652n}],patches:[{find:"),{hasFlag:",replacement:{match:/(if\((.{1,2})<=1<<30\)return)/,replace:"if($2===(1<<20)){return false};$1"}}]})});var mt,Rn=l(()=>{"use strict";m();u();mt=s({name:"Ify",description:"Disables Spotify auto-pausing and Premium checks, allowing you to listen along with others.",authors:[c.Cyn],patches:[{find:'.displayName="SpotifyStore"',replacement:[{match:/\.isPremium=.;/,replace:".isPremium=true;"},{match:/function (.{1,2})\(\).{0,200}SPOTIFY_AUTO_PAUSED\);.{0,}}}}/,replace:"function $1(){}"}]}]})});var ft,In=l(()=>{"use strict";m();u();ft=s({name:"isStaff",description:"Gives access to client devtools & other things locked behind isStaff",authors:[c.Megu],patches:[{find:".isStaff=function(){",replacement:[{match:/(\w+)\.isStaff=function\(\){return\s*!1};/,replace:"$1.isStaff=function(){return true};"},{match:/return\s*\w+\.hasFlag\(.+?STAFF\)}/,replace:"return true}"},{match:/hasFreePremium=function\(\){return this.isStaff\(\)\s*\|\|/,replace:"hasFreePremium=function(){return "}]}]})});var xt={};N(xt,{ApplicationCommandInputType:()=>Et,ApplicationCommandOptionType:()=>Ln,ApplicationCommandType:()=>bt,BUILT_IN:()=>se,OptionalMessageOption:()=>he,RequiredMessageOption:()=>ye,_init:()=>Wr,commands:()=>gt,findOption:()=>Ee,generateId:()=>Dn,registerCommand:()=>ht,unregisterCommand:()=>yt});function Wr(e){try{se=e,he=e.find(t=>t.name==="shrug").options[0],ye=e.find(t=>t.name==="me").options[0]}catch{console.error("Failed to load CommandsApi")}return e}function Dn(){return`-${An.fromTimestamp(Date.now())}`}function Ee(e,t,n){return e.find(r=>r.name===t)?.value||n}function Fn(e){e.displayName||=e.name,e.displayDescription||=e.description,e.options?.forEach((t,n,r)=>{t===Mn?r[n]=he:t===Nn&&(r[n]=ye),Fn(r[n])})}function ht(e,t){if(se.some(n=>n.name===e.name))throw new Error(`Command '${e.name}' already exists.`);e.id||=Dn(),e.applicationId||="-1",e.type||=bt.CHAT_INPUT,e.inputType||=Et.BUILT_IN_TEXT,e.plugin||=t,Fn(e),gt[e.name]=e,se.push(e)}function yt(e){let t=se.findIndex(n=>n.name===e);return t===-1?!1:(se.splice(t,1),delete gt[e],!0)}var se,gt,Mn,Nn,he,ye,An,Ln,Et,bt,be=l(()=>{"use strict";A();gt={},Mn=Symbol("OptionalMessageOption"),Nn=Symbol("RequiredMessageOption"),he=Mn,ye=Nn;h("fromTimestamp",e=>An=e);Ln=(d=>(d[d.SUB_COMMAND=1]="SUB_COMMAND",d[d.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",d[d.STRING=3]="STRING",d[d.INTEGER=4]="INTEGER",d[d.BOOLEAN=5]="BOOLEAN",d[d.USER=6]="USER",d[d.CHANNEL=7]="CHANNEL",d[d.ROLE=8]="ROLE",d[d.MENTIONABLE=9]="MENTIONABLE",d[d.NUMBER=10]="NUMBER",d[d.ATTACHMENT=11]="ATTACHMENT",d))(Ln||{}),Et=(i=>(i[i.BUILT_IN=0]="BUILT_IN",i[i.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",i[i.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",i[i.BOT=3]="BOT",i[i.PLACEHOLDER=4]="PLACEHOLDER",i))(Et||{}),bt=(r=>(r[r.CHAT_INPUT=1]="CHAT_INPUT",r[r.USER=2]="USER",r[r.MESSAGE=3]="MESSAGE",r))(bt||{})});var _t,Un=l(()=>{"use strict";u();m();be();_t=s({name:"lenny",description:"( \u0361\xB0 \u035C\u0296 \u0361\xB0)",authors:[c.Arjix],dependencies:["CommandsAPI"],commands:[{name:"lenny",description:"Sends a lenny face",options:[he],execute:e=>({content:Ee(e,"message","")+" ( \u0361\xB0 \u035C\u0296 \u0361\xB0)"})}]})});var St,On,$n,wt,Vn=l(()=>{"use strict";ee();m();u();A();T();St=!1,On=e=>e.key==="Backspace"&&(St=!0),$n=e=>e.key==="Backspace"&&(St=!1),wt=s({name:"MessageQuickActions",description:"Quick Delete, Quick edit",authors:[c.Ven],dependencies:["MessageEventsAPI"],start(){let{deleteMessage:e,startEditMessage:t}=K("deleteMessage"),{can:n}=K("can","initialize"),{MANAGE_MESSAGES:r}=B(i=>typeof i.MANAGE_MESSAGES=="bigint"),{isEditing:o}=K("isEditing");document.addEventListener("keydown",On),document.addEventListener("keyup",$n),this.onClick=Xe((i,p,a)=>{let f=i.author.id===ne.getCurrentUser().id;St?(f||n(r,p))&&(e(p.id,i.id),a.preventDefault()):f&&a.detail>=2&&!o(p.id,i.id)&&(t(p.id,i.id,i.content),a.preventDefault())})},stop(){Ze(this.onClick),document.removeEventListener("keydown",On),document.removeEventListener("keyup",$n)}})});function qr(e,t){let n=0,r=0;for(;(r=e.indexOf(t,r)+1)!==0;)n++;return n}function Kr(e,t){if(!t.global)throw new Error("pattern must be global");let n=0;for(;t.test(e);)n++;return n}function Jr(e){let t=qr(e,Gn)+Kr(e,Yr);return Math.min(t,10)}function Bn(){let e=document.createElement("audio");e.src=zr,e.play()}var Gn,zr,Qr,Pt,Yr,Hn=l(()=>{"use strict";u();m();T();Y();Gn="\u{1F5FF}",zr="https://github.com/MeguminSama/VencordPlugins/raw/main/plugins/moyai/moyai.mp3",Qr=!0,Pt=s({name:"Moyai",authors:[c.Megu],description:"\u{1F5FF}\u{1F5FF}\u{1F5FF}\u{1F5FF}\u{1F5FF}\u{1F5FF}\u{1F5FF}\u{1F5FF}",async onMessage(e){if(e.optimistic||e.type!=="MESSAGE_CREATE"||e.message.state==="SENDING"||Qr&&e.message.author?.bot||!e.message.content||e.channelId!==ge.getChannelId())return;let t=Jr(e.message.content);for(let n=0;n<t;n++)Bn(),await _n(300)},onReaction(e){if(e.optimistic||e.type!=="MESSAGE_REACTION_ADD"||e.channelId!==ge.getChannelId())return;let t=e.emoji.name.toLowerCase();t!==Gn&&!t.includes("moyai")&&!t.includes("moai")||Bn()},start(){M.subscribe("MESSAGE_CREATE",this.onMessage),M.subscribe("MESSAGE_REACTION_ADD",this.onReaction)},stop(){M.unsubscribe("MESSAGE_CREATE",this.onMessage),M.unsubscribe("MESSAGE_REACTION_ADD",this.onReaction)}});Yr=/<a?:\w*moy?ai\w*:\d{17,20}>/gi});var Ct,jn=l(()=>{"use strict";u();m();Ct=s({name:"MuteNewGuild",description:"Mutes newly joined guilds",authors:[c.Glitch],patches:[{find:",acceptInvite:function",replacement:{match:/(\w=null!==[^;]+)/,replace:"$1;Vencord.Webpack.findByProps('updateGuildNotificationSettings').updateGuildNotificationSettings($1,{'muted':true,'suppress_everyone':true,'suppress_roles':true})"}}]})});var Tt,Wn=l(()=>{"use strict";ee();A();u();m();T();Tt=s({name:"NitroBypass",authors:[c.Arjix],description:"Allows you to stream in nitro quality and send fake emojis.",dependencies:["MessageEventsAPI"],patches:[{find:"canUseAnimatedEmojis:function",replacement:["canUseAnimatedEmojis","canUseEmojisEverywhere","canUseHighVideoQuality","canStreamHighQuality","canStreamMidQuality"].map(e=>({match:new RegExp(`${e}:function\\(.+?}`),replace:`${e}:function (e) { return true; }`}))},{find:"STREAM_FPS_OPTION.format",replacement:{match:/(userPremiumType|guildPremiumTier):.{0,10}TIER_\d,?/g,replace:""}}],get guildId(){return window.location.href.split("channels/")[1].split("/")[0]},get canUseEmotes(){return Boolean(ne.getCurrentUser().premiumType)},start(){if(this.canUseEmotes){console.info("[NitroBypass] Skipping start because you have nitro");return}let{getCustomEmojiById:e}=K("getCustomEmojiById");function t(n,r){return!n[r]||/\s/.test(n[r])?"":" "}this.preSend=j((n,r)=>{let{guildId:o}=this;for(let i of r.validNonShortcutEmojis){if(!i.require_colons||i.guildId===o&&!i.animated)continue;let p=`<${i.animated?"a":""}:${i.originalName||i.name}:${i.id}>`,a=i.url.replace(/\?size=[0-9]+/,"?size=48");r.content=r.content.replace(p,(f,y,w)=>`${t(w,y-1)}${a}${t(w,y+f.length)}`)}}),this.preEdit=W((n,r,o)=>{let{guildId:i}=this;for(let[p,a,f]of o.content.matchAll(/(?<!\\)<a?:(\w+):(\d+)>/ig)){let y=e(f);if(y==null||y.guildId===i&&!y.animated||!y.require_colons)continue;let w=y.url.replace(/\?size=[0-9]+/,"?size=48");o.content=o.content.replace(p,(d,g,P)=>`${t(P,g-1)}${w}${t(P,g+d.length)}`)}})},stop(){z(this.preSend),Q(this.preEdit)}})});var vt,zn=l(()=>{"use strict";m();u();vt=s({name:"NoBlockedMessages",description:"Hides all blocked messages from chat completely.",authors:[c.rushii],patches:[{find:'safety_prompt:"DMSpamExperiment",response:"show_redacted_messages"',replacement:[{match:/collapsedReason;return (?=\w{1,2}.createElement)/,replace:"collapsedReason; return null;"}]}]})});var kt,Qn=l(()=>{"use strict";u();kt=s({name:"NoReplyMention",description:"Disables reply pings by default",authors:[{name:"DustyAngel47",id:714583473804935238n}],patches:[{find:"CREATE_PENDING_REPLY:function",replacement:{match:/CREATE_PENDING_REPLY:function\((.{1,2})\){/,replace:"CREATE_PENDING_REPLY:function($1){$1.shouldMention=false;"}}]})});var Rt,qn=l(()=>{"use strict";m();u();Rt=s({name:"NoSystemBadge",description:"Disables the taskbar and system tray unread count badge.",authors:[c.rushii],patches:[{find:"setSystemTrayApplications:function",replacement:[{match:/setBadge:function.+?},/,replace:"setBadge:function(){},"},{match:/setSystemTrayIcon:function.+?},/,replace:"setSystemTrayIcon:function(){},"}]}]})});var It,Kn=l(()=>{"use strict";u();m();It=s({name:"NoTrack",description:"Disable Discord's tracking and crash reporting",authors:[c.Cyn],required:!0,patches:[{find:"TRACKING_URL:",replacement:{match:/^.+$/,replace:"()=>{}"}},{find:"window.DiscordSentry=",replacement:{match:/window\.DiscordSentry=function.+\}\(\)/,replace:""}}]})});var Mt,Yn=l(()=>{"use strict";m();u();Mt=s({name:"PlainFolderIcon",description:"Doesn't show the small guild icons in folders",authors:[c.botato],patches:[{find:"().expandedFolderIconWrapper",replacement:[{match:/\(\w\|\|\w\)(&&\(\w=\w\.createElement\(\w+\.animated)/,replace:"true$1"}]}]})});function Jn(){G=-1}function Xn(e){if(!e.ctrlKey&&!e.metaKey||e.key!=="ArrowUp"&&e.key!=="ArrowDown")return;let t=Xr.getChannelId(),n=Zr.getChannel(t),r=eo.getMessages(t).toArray().reverse();if(e.key==="ArrowUp"?G+=1:e.key==="ArrowDown"&&(G=Math.max(-1,G-1)),G>r.length&&(G=r.length),G<0)return void M.dispatch({type:"DELETE_PENDING_REPLY",channelId:t});M.dispatch({type:"CREATE_PENDING_REPLY",channel:n,message:r[G],showMentionToggle:n.guild_id!==null})}var Xr,Zr,eo,Nt,G,Zn=l(()=>{"use strict";u();m();T();A();Y();Xr=te(S.byProps(["getChannelId"])),Zr=te(S.byProps(["getChannel"])),eo=te(S.byProps(["getRawMessages"])),Nt=s({name:"Quickreply",authors:[c.obscurity],description:"Reply to messages faster (ctrl + direction)",start(){M.subscribe("DELETE_PENDING_REPLY",Jn),document.addEventListener("keydown",Xn)},stop(){M.unsubscribe("DELETE_PENDING_REPLY",Jn),document.removeEventListener("keydown",Xn)}}),G=-1});var At,er=l(()=>{"use strict";u();m();At=s({name:"RandomiseFileNames",authors:[c.obscurity],description:"Randomise uploaded file names",patches:[{find:"instantBatchUpload:function",replacement:{match:/uploadFiles:(.{1,2}),/,replace:"uploadFiles:(...args)=>(args[0].uploads.forEach(f=>f.filename=Vencord.Plugins.plugins.RandomiseFileNames.rand(f.filename)),$1(...args)),"}}],rand(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:7},()=>t[Math.floor(Math.random()*t.length)]).join("")+(e.lastIndexOf(".")>-1?e.slice(e.lastIndexOf(".")):"")}})});var ae,Ne=l(()=>{ae="abfade4"});var Dt,tr=l(()=>{"use strict";u();Ne();m();Dt=s({name:"Settings",description:"Adds Settings UI and debug info",authors:[c.Ven],required:!0,patches:[{find:"().versionHash",replacement:[{match:/\w\.createElement\(.{1,2}.Fragment,.{0,30}\{[^}]+\},"Host ".+?\):null/,replace:e=>{let t=e.indexOf("Host")-1,n=e.slice(0,t),r=`${e}, ${n}"Vencord ", "${ae}${IS_WEB?" (Web)":""}"), " ")`;return IS_WEB||(r+=`,${n} "Electron ",VencordNative.getVersions().electron)," "),`,r+=`${n} "Chrome ",VencordNative.getVersions().chrome)," ")`),r}}]},{find:"Messages.ACTIVITY_SETTINGS",replacement:{match:/\{section:(.{1,2})\.ID\.HEADER,\s*label:(.{1,2})\..{1,2}\.Messages\.ACTIVITY_SETTINGS\}/,replace:(e,t)=>`{section:${t}.ID.HEADER,label:"Vencord"},{section:"VencordSetting",label:"Vencord",element:Vencord.Components.Settings},{section:"VencordUpdater",label:"Updater",element:Vencord.Components.Updater,predicate:()=>!IS_WEB},{section:${t}.ID.DIVIDER},${e}`}}]})});var Ft,nr=l(()=>{"use strict";u();m();Ft=s({name:"SilentTyping",authors:[c.Ven],description:"Hide that you are typing",patches:[{find:"startTyping:",replacement:{match:/startTyping:.+?,stop/,replace:"startTyping:()=>{},stop"}}]})});var Lt,rr=l(()=>{"use strict";u();ee();m();Lt=s({name:"Unindent",description:"Trims leading indentation from codeblocks",authors:[c.Ven],dependencies:["MessageEventsAPI"],patches:[{find:"inQuote:",replacement:{match:/,content:([^,]+),inQuote/,replace:(e,t)=>`,content:Vencord.Plugins.plugins.Unindent.unindent(${t}),inQuote`}}],unindent(e){e=e.replace(/\t/g,"    ");let t=e.match(/^ *(?=\S)/gm)?.reduce((n,r)=>Math.min(n,r.length),1/0)??0;return t?e.replace(new RegExp(`^ {${t}}`,"gm"),""):e},unindentMsg(e){e.content=e.content.replace(/```(.|\n)*?```/g,t=>{let n=t.split(`
`);if(n.length<2)return t;let r="";return n[n.length-1]==="```"&&(r=n.pop()),`${n[0]}
${this.unindent(n.slice(1).join(`
`))}
${r}`})},start(){this.preSend=j((e,t)=>this.unindentMsg(t)),this.preEdit=W((e,t,n)=>this.unindentMsg(n))},stop(){z(this.preSend),Q(this.preEdit)}})});function no(e){return e.split(" ").map(t=>{let n=!1,r=t.toLowerCase();if(t.length<4)return t;for(let[o,i]of to)t.includes(o)&&(t=t.replace(o,i),n=!0);return r.includes("u")&&!r.includes("uwu")&&(t=t.replace("u","UwU"),n=!0),r.includes("o")&&!r.includes("owo")&&(t=t.replace("o","OwO"),n=!0),r.endsWith("y")&&t.length<7&&(t=t+" w"+t.slice(1),n=!0),n||(r.endsWith("n")||(t=t.replace("n","ny")),Math.floor(Math.random()*2)===1&&t.replace("s","sh"),Math.floor(Math.random()*5)===3&&!n&&(t=t[0]+"-"+t[0]+"-"+t),Math.floor(Math.random()*5)===3&&(t=t+" "+or[Math.floor(Math.random()*or.length)]),t=t.replaceAll("r","w").replaceAll("l","w")),t}).join(" ")}var or,to,Ut,ir=l(()=>{"use strict";u();be();or=["owo","UwU",">w<","^w^","\u25CFw\u25CF","\u2606w\u2606","\u{1D5E8}\u{1D604}\u{1D5E8}","(\u15D2\u15E8\u15D5)","(\u25B0\u02D8v\u02D8\u25B0)","( \xB4 \u25BD ` ).\uFF61\uFF4F\u2661","*unbuttons shirt*",">3<",">:3",":3","murr~","\u2665(\u3002U \u03C9 U\u3002)","(\u02D8\u03B5\u02D8)","*screams*","*twerks*","*sweats*"],to=[["love","wuv"],["mr","mistuh"],["dog","doggo"],["cat","kitteh"],["hello","henwo"],["hell","heck"],["fuck","fwick"],["fuk","fwick"],["shit","shoot"],["friend","fwend"],["stop","stawp"],["god","gosh"],["dick","peepee"],["penis","bulge"],["damn","darn"]];Ut=s({name:"UwUifier",description:"Simply uwuify commands",authors:[{name:"ECHO",id:712639419785412668n}],dependencies:["CommandsAPI"],commands:[{name:"uwuify",description:"uwuifies your messages",options:[ye],execute:e=>({content:no(Ee(e,"message",""))})}]})});function ro(e){let t={};for(let n in e)t[n]=e[n],t[e[n]]=n;return Object.freeze(t)}var _,ce=l(()=>{"use strict";_=ro({QUICK_CSS_UPDATE:"VencordQuickCssUpdate",GET_QUICK_CSS:"VencordGetQuickCss",GET_SETTINGS_DIR:"VencordGetSettingsDir",GET_SETTINGS:"VencordGetSettings",SET_SETTINGS:"VencordSetSettings",OPEN_EXTERNAL:"VencordOpenExternal",OPEN_QUICKCSS:"VencordOpenQuickCss",GET_UPDATES:"VencordGetUpdates",GET_REPO:"VencordGetRepo",GET_HASHES:"VencordGetHashes",UPDATE:"VencordUpdate",BUILD:"VencordBuild",GET_DESKTOP_CAPTURE_SOURCES:"VencordGetDesktopCaptureSources"})});var Ae,Ot,sr=l(()=>{"use strict";m();ce();u();Ae="Vencord.Plugins.plugins.ViewIcons.openImage(",Ot=s({name:"ViewIcons",authors:[c.Ven],description:"Makes Avatars/Banners in user profiles clickable, and adds Guild Context Menu Entries to View Banner/Icon.",openImage(e){VencordNative.ipc.invoke(_.OPEN_EXTERNAL,e)},patches:[{find:"onAddFriend:",replacement:{match:/\{src:(.{1,2}),avatarDecoration/,replace:(e,t)=>`{src:${t},onClick:()=>${Ae}${t}.replace(/\\?.+$/, "")+"?size=2048"),avatarDecoration`}},{find:"().popoutNoBannerPremium",replacement:{match:/style:.{0,10}\{\},(.{1,2})\)/,replace:(e,t)=>`onClick:${t}.backgroundImage&&(()=>${Ae}${t}.backgroundImage.replace("url(", "").replace(/(\\?size=.+)?\\)/, "?size=2048"))),${e}`}},{find:'"GuildContextMenu:',replacement:[{match:/\w=(\w)\.id/,replace:(e,t)=>`_guild=${t},${e}`},{match:/(?<=createElement\((.{1,5}),\{id:"leave-guild".{0,100}\,)(.{1,2}\.createElement)\((.{1,5}),null,(.{1,2})\)(?=\)\}function)/,replace:(e,t,n,r,o)=>`${n}(${r},null,[_guild.icon&&${n}(${t},{id:"viewicons-copy-icon",label:"View Icon",action:()=>${Ae}_guild.getIconURL(void 0,true)+"size=2048")}),_guild.banner&&${n}(${t},{id:"viewicons-copy-banner",label:"View Banner",action:()=>${Ae}Vencord.Webpack.findByProps("getGuildBannerURL").getGuildBannerURL(_guild).replace(/\\?size=.+/, "?size=2048"))}),${o}])`}]}]})});var $t,ar=l(()=>{"use strict";u();m();$t=s({name:"Webhook Tags",description:"Changes the bot tag to say webhook for webhooks",authors:[c.Cyn],patches:[{find:'.BOT=0]="BOT"',replacement:[{match:/(.)\[.\.BOT=0\]="BOT";/,replace:(e,t)=>`${t}[${t}.WEBHOOK=99]="WEBHOOK";${e}`},{match:/case (.)\.BOT:default:(.)=/,replace:(e,t,n)=>`case ${t}.WEBHOOK:${n}="WEBHOOK";break;${e}`}]},{find:".Types.ORIGINAL_POSTER",replacement:{match:/return null==(.)\?null:.\.createElement\((.)\.Z/,replace:(e,t,n)=>`if(${t}==${n}.Z.Types.BOT&&arguments[0].user.isNonUserBot()){${t}=${n}.Z.Types.WEBHOOK}${e}`}}]})});var R,De=l(()=>{an();cn();ln();dn();pn();un();mn();yn();Cn();Tn();vn();kn();Rn();In();Un();Vn();Hn();jn();Wn();zn();Qn();qn();Kn();Yn();Zn();er();tr();nr();rr();ir();sr();ar();R={[Be.name]:Be,[Ge.name]:Ge,[He.name]:He,[je.name]:je,[We.name]:We,[ze.name]:ze,[Qe.name]:Qe,[tt.name]:tt,[ct.name]:ct,[dt.name]:dt,[pt.name]:pt,[ut.name]:ut,[mt.name]:mt,[ft.name]:ft,[_t.name]:_t,[wt.name]:wt,[Pt.name]:Pt,[Ct.name]:Ct,[Tt.name]:Tt,[vt.name]:vt,[kt.name]:kt,[Rt.name]:Rt,[It.name]:It,[Mt.name]:Mt,[Nt.name]:Nt,[At.name]:At,[Dt.name]:Dt,[Ft.name]:Ft,[Lt.name]:Lt,[Ut.name]:Ut,[Ot.name]:Ot,[$t.name]:$t}});function cr(e,t=e,n=""){return new Proxy(e,{get(r,o){let i=r[o];return typeof i=="object"&&!Array.isArray(i)?cr(i,t,`${n}${n&&"."}${o}`):i},set(r,o,i){if(r[o]===i)return!0;r[o]=i;let p=`${n}${n&&"."}${o}`;for(let a of Fe)(!a._path||a._path===p)&&a(i,p);return VencordNative.ipc.invoke(_.SET_SETTINGS,JSON.stringify(t,null,4)),!0}})}function lr(){let[,e]=b.useReducer(()=>({}),{});return b.useEffect(()=>(Fe.add(e),()=>void Fe.delete(e)),[]),U}function dr(e,t){t._path=e,Fe.add(t)}var xe,le,Fe,U,_e=l(()=>{"use strict";De();ce();T();Y();xe={notifyAboutUpdates:!0,useQuickCss:!0,plugins:{}};for(let e in R)xe.plugins[e]={enabled:R[e].required??!1};try{le=JSON.parse(VencordNative.ipc.sendSync(_.GET_SETTINGS));for(let e in xe)le[e]??=xe[e];Ie(le,xe)}catch(e){console.error("Corrupt settings file. ",e),le=Ie({},xe)}Fe=new Set;U=cr(le)});var Gt={};N(Gt,{patches:()=>pr,plugins:()=>oo,startAllPlugins:()=>Vt,startPlugin:()=>Se,stopPlugin:()=>Bt});function Vt(){for(let e in R)U.plugins[e].enabled&&Se(R[e])}function Se(e){if(e.start){if(F.info("Starting plugin",e.name),e.started)return F.warn(`${e.name} already started`),!1;try{e.start(),e.started=!0}catch(t){return F.error(`Failed to start ${e.name}
`,t),!1}}if(e.commands?.length){F.info("Registering commands of plugin",e.name);for(let t of e.commands)try{ht(t,e.name)}catch(n){return F.error(`Failed to register command ${t.name}
`,n),!1}}return!0}function Bt(e){if(e.stop){if(F.info("Stopping plugin",e.name),!e.started)return F.warn(`${e.name} already stopped`),!1;try{e.stop(),e.started=!1}catch(t){return F.error(`Failed to stop ${e.name}
`,t),!1}}if(e.commands?.length){F.info("Unregistering commands of plugin",e.name);for(let t of e.commands)try{yt(t.name)}catch(n){return F.error(`Failed to unregister command ${t.name}
`,n),!1}}return!0}var F,oo,pr,we=l(()=>{"use strict";De();be();_e();Z();F=new k("PluginManager","#a6d189"),oo=R,pr=[];for(let e of Object.values(R))if(e.patches&&U.plugins[e.name].enabled)for(let t of e.patches)t.plugin=e.name,Array.isArray(t.replacement)||(t.replacement=[t.replacement]),pr.push(t)});var Xt={};N(Xt,{UpdateLogger:()=>pe,changes:()=>H,checkForUpdates:()=>Te,getRepo:()=>Yt,isNewer:()=>Le,isOutdated:()=>Ce,rebuild:()=>Jt,update:()=>Kt,updateError:()=>ue});async function de(e){let t=await e;if(t.ok)return t.value;throw ue=t.error,t.error}async function Te(){return H=await de(VencordNative.ipc.invoke(_.GET_UPDATES)),H.some(e=>e.hash===ae)?(Le=!0,Ce=!1):Ce=H.length>0}async function Kt(){if(!Ce)return!0;let e=await de(VencordNative.ipc.invoke(_.UPDATE));return e&&(Ce=!1),e}function Yt(){return de(VencordNative.ipc.invoke(_.GET_REPO))}async function Jt(){let e=await de(VencordNative.ipc.invoke(_.GET_HASHES));if(!await de(VencordNative.ipc.invoke(_.BUILD)))throw new Error("The Build failed. Please try manually building the new update");let t=await de(VencordNative.ipc.invoke(_.GET_HASHES));return e["patcher.js"]!==t["patcher.js"]||e["preload.js"]!==t["preload.js"]}var pe,Ce,Le,ue,H,Ue=l(()=>{"use strict";ce();Z();Ne();pe=new k("Updater","white"),Ce=!1,Le=!1});function ve(e){return Vencord.Webpack.Common.React.createElement(re,{className:e.className,style:{padding:"2em",backgroundColor:"#e7828430",borderColor:"#e78284",color:"var(--text-normal)",...e.style}},e.children)}var tn=l(()=>{"use strict";T()});var so,fr,gr,O,nn=l(()=>{"use strict";Z();T();tn();so="#e78284",fr=new k("React ErrorBoundary",so),gr={},O=class extends b.Component{static wrap(t){return n=>Vencord.Webpack.Common.React.createElement(O,null,Vencord.Webpack.Common.React.createElement(t,{...n}))}state={error:gr,message:""};static getDerivedStateFromError(t){return{error:t?.stack?.replace(/https:\/\/\S+\/assets\//g,"")||t?.message||String(t)}}componentDidCatch(t,n){this.props.onError?.(t,n),fr.error(`A component threw an Error
`,t),fr.error("Component Stack",n.componentStack)}render(){return this.state.error===gr?this.props.children:this.props.fallback?Vencord.Webpack.Common.React.createElement(this.props.fallback,{children:this.props.children,error:this.state.error}):Vencord.Webpack.Common.React.createElement(ve,{style:{overflow:"hidden"}},Vencord.Webpack.Common.React.createElement("h1",null,"Oh no!"),Vencord.Webpack.Common.React.createElement("p",null,"An error occurred while rendering this Component. More info can be found below and in your console."),Vencord.Webpack.Common.React.createElement("code",null,Vencord.Webpack.Common.React.createElement("pre",null,this.state.error)))}}});function Oe(e){return e.style??={},e.style.flexDirection||=e.flexDirection,e.style.gap??="1em",e.style.display="flex",Vencord.Webpack.Common.React.createElement("div",{...e},e.children)}var rn=l(()=>{"use strict"});var $e,hr=l(()=>{"use strict";$e=class{set=new Set;get changeCount(){return this.set.size}get hasChanges(){return this.changeCount>0}handleChange(t){this.set.delete(t)||this.set.add(t)}getChanges(){return this.set.values()}map(t){return[...this.getChanges()].map(t)}}});function on(e){x.show({message:e,type:x.Type.FAILURE,id:x.genId(),options:{position:x.Position.BOTTOM}})}var yr,Er=l(()=>{"use strict";Y();De();_e();ce();T();nn();we();we();rn();hr();yr=O.wrap(function(){let[t,,n]=Re(()=>VencordNative.ipc.invoke(_.GET_SETTINGS_DIR),"Loading..."),r=lr(),o=b.useMemo(()=>new $e,[]);b.useEffect(()=>()=>void(o.hasChanges&&J.show({title:"Restart required",body:Vencord.Webpack.Common.React.createElement(Vencord.Webpack.Common.React.Fragment,null,Vencord.Webpack.Common.React.createElement("p",null,"The following plugins require a restart:"),Vencord.Webpack.Common.React.createElement("div",null,o.map((a,f)=>Vencord.Webpack.Common.React.createElement(Vencord.Webpack.Common.React.Fragment,null,f>0&&", ",ie.parse("`"+a+"`"))))),confirmText:"Restart now",cancelText:"Later!",onConfirm:()=>location.reload()})),[]);let i=b.useMemo(()=>{let a={};for(let f in R){let y=R[f].dependencies;if(y)for(let w of y)a[w]??=[],a[w].push(f)}return a},[]),p=b.useMemo(()=>Object.values(R).sort((a,f)=>a.name.localeCompare(f.name)),[]);return Vencord.Webpack.Common.React.createElement(E.FormSection,{tag:"h1",title:"Vencord"},Vencord.Webpack.Common.React.createElement(E.FormTitle,{tag:"h5"},"Settings"),Vencord.Webpack.Common.React.createElement(E.FormText,null,"SettingsDir: ",Vencord.Webpack.Common.React.createElement("code",{style:{userSelect:"text",cursor:"text"}},t)),!IS_WEB&&Vencord.Webpack.Common.React.createElement(Oe,{className:fe(D.marginBottom20)},Vencord.Webpack.Common.React.createElement(C,{onClick:()=>window.DiscordNative.app.relaunch(),size:C.Sizes.SMALL,color:C.Colors.GREEN},"Reload"),Vencord.Webpack.Common.React.createElement(C,{onClick:()=>window.DiscordNative.fileManager.showItemInFolder(t),size:C.Sizes.SMALL,disabled:n},"Launch Directory"),Vencord.Webpack.Common.React.createElement(C,{onClick:()=>VencordNative.ipc.invoke(_.OPEN_QUICKCSS),size:C.Sizes.SMALL,disabled:t==="Loading..."},"Open QuickCSS File")),Vencord.Webpack.Common.React.createElement(E.FormDivider,null),Vencord.Webpack.Common.React.createElement(E.FormTitle,{tag:"h5"},"Settings"),Vencord.Webpack.Common.React.createElement(oe,{value:r.useQuickCss,onChange:a=>r.useQuickCss=a,note:"Enable QuickCSS"},"Use QuickCss"),!IS_WEB&&Vencord.Webpack.Common.React.createElement(oe,{value:r.notifyAboutUpdates,onChange:a=>r.notifyAboutUpdates=a,note:"Shows a Toast on StartUp"},"Get notified about new Updates"),Vencord.Webpack.Common.React.createElement(E.FormDivider,null),Vencord.Webpack.Common.React.createElement(E.FormTitle,{tag:"h5",className:fe(D.marginTop20,D.marginBottom8)},"Plugins"),p.map(a=>{let f=i[a.name]?.filter(w=>r.plugins[w].enabled),y=f?.length;return Vencord.Webpack.Common.React.createElement(oe,{disabled:a.required||y,key:a.name,value:r.plugins[a.name].enabled||a.required||y,onChange:w=>{r.plugins[a.name].enabled=w;let d=Boolean(a.patches?.length);w?(a.dependencies?.forEach(g=>{let P=R[g];d||=Boolean(P.patches?.length&&!r.plugins[g].enabled),r.plugins[g].enabled=!0,!d&&!P.started&&!Se(P)&&on(`Failed to start dependency ${g}. Check the console for more info.`)}),!d&&!a.started&&!Se(a)&&on(`Failed to start plugin ${a.name}. Check the console for more info.`)):(a.started||!a.start&&a.commands?.length)&&!Bt(a)&&on(`Failed to stop plugin ${a.name}. Check the console for more info.`),d&&o.handleChange(a.name)},note:a.description,tooltipNote:a.required?"This plugin is required. Thus you cannot disable it.":y?`${xn(f)} ${f.length===1?"depends":"depend"} on this plugin. Thus you cannot disable it.`:null},a.name)}))})});function sn(e){return e.disabled&&(e.style??={},e.style.pointerEvents="none"),Vencord.Webpack.Common.React.createElement("a",{href:e.href,target:"_blank",style:e.style},e.children)}var br=l(()=>{"use strict"});function xr(e,t){return async()=>{e(!0);try{await t()}catch(r){if(pe.error("Failed to update",r),r)if(r.code&&r.cmd){let{code:o,path:i,cmd:p,stderr:a}=r;if(o==="ENOENT")var n=`Command \`${i}\` not found.
Please install it and try again`;else{var n=`An error occured while running \`${p}\`:
`;n+=a||`Code \`${o}\`. See the console for more info`}}else var n="An unknown error occurred. See the console for more info.";else var n=`An unknown error occurred (error is undefined).
Please try again.`;J.show({title:"Oops!",body:Vencord.Webpack.Common.React.createElement(ve,null,n.split(`
`).map(o=>Vencord.Webpack.Common.React.createElement("div",null,ie.parse(o))))})}finally{e(!1)}}}function _r({updates:e,repo:t,repoPending:n}){return Vencord.Webpack.Common.React.createElement(re,{style:{padding:".5em"}},e.map(({hash:r,author:o,message:i})=>Vencord.Webpack.Common.React.createElement("div",null,Vencord.Webpack.Common.React.createElement(sn,{href:`${t}/commit/${r}`,disabled:n},Vencord.Webpack.Common.React.createElement("code",null,r)),Vencord.Webpack.Common.React.createElement("span",{style:{marginLeft:"0.5em",color:"var(--text-normal)"}},i," - ",o))))}function ao(e){let[t,n]=b.useState(H),[r,o]=b.useState(!1),[i,p]=b.useState(!1),a=t.length>0;return Vencord.Webpack.Common.React.createElement(Vencord.Webpack.Common.React.Fragment,null,!t&&ue?Vencord.Webpack.Common.React.createElement(Vencord.Webpack.Common.React.Fragment,null,Vencord.Webpack.Common.React.createElement(E.FormText,null,"Failed to check updates. Check the console for more info"),Vencord.Webpack.Common.React.createElement(ve,{style:{padding:"1em"}},Vencord.Webpack.Common.React.createElement("p",null,ue.stderr||ue.stdout||"An unknown error occurred"))):Vencord.Webpack.Common.React.createElement(E.FormText,{className:D.marginBottom8},a?`There are ${t.length} Updates`:"Up to Date!"),a&&Vencord.Webpack.Common.React.createElement(_r,{updates:t,...e}),Vencord.Webpack.Common.React.createElement(Oe,{className:fe(D.marginBottom8,D.marginTop8)},a&&Vencord.Webpack.Common.React.createElement(C,{size:C.Sizes.SMALL,disabled:i||r,onClick:xr(p,async()=>{if(await Kt()){n([]);let f=await Jt();await new Promise(y=>{J.show({title:"Update Success!",body:"Successfully updated. Restart now to apply the changes?",confirmText:"Restart",cancelText:"Not now!",onConfirm(){f?window.DiscordNative.app.relaunch():location.reload(),y()},onCancel:y})})}})},"Update Now"),Vencord.Webpack.Common.React.createElement(C,{size:C.Sizes.SMALL,disabled:i||r,onClick:xr(o,async()=>{await Te()?n(H):(n([]),x.show({message:"No updates found!",id:x.genId(),type:x.Type.MESSAGE,options:{position:x.Position.BOTTOM}}))})},"Check for Updates")))}function co(e){return Vencord.Webpack.Common.React.createElement(Vencord.Webpack.Common.React.Fragment,null,Vencord.Webpack.Common.React.createElement(E.FormText,{className:D.marginBottom8},"Your local copy has more recent commits. Please stash or reset them."),Vencord.Webpack.Common.React.createElement(_r,{...e,updates:H}))}var Sr,wr=l(()=>{"use strict";Ne();Ue();T();rn();Y();br();nn();tn();Sr=O.wrap(function(){let[t,n,r]=Re(Yt,"Loading...");b.useEffect(()=>{n&&pe.error("Failed to retrieve repo",n)},[n]);let o={repo:t,repoPending:r};return Vencord.Webpack.Common.React.createElement(E.FormSection,{tag:"h1",title:"Vencord Updater"},Vencord.Webpack.Common.React.createElement(E.FormTitle,{tag:"h5"},"Repo"),Vencord.Webpack.Common.React.createElement(E.FormText,null,r?t:n?"Failed to retrieve - check console":Vencord.Webpack.Common.React.createElement(sn,{href:t},t.split("/").slice(-2).join("/"))," (",ae,")"),Vencord.Webpack.Common.React.createElement(E.FormDivider,null),Vencord.Webpack.Common.React.createElement(E.FormTitle,{tag:"h5"},"Updates"),Le?Vencord.Webpack.Common.React.createElement(co,{...o}):Vencord.Webpack.Common.React.createElement(ao,{...o}))})});var Pr={};N(Pr,{Settings:()=>yr,Updater:()=>Sr});var Cr=l(()=>{"use strict";Er();wr()});var po={};N(po,{Api:()=>qt,Components:()=>Tr,Plugins:()=>Gt,QuickCss:()=>en,Settings:()=>U,Updater:()=>Xt,Webpack:()=>st});we();A();var qt={};N(qt,{Commands:()=>xt,MessageEvents:()=>et,Notices:()=>Qt});ee();var Qt={};N(Qt,{currentNotice:()=>Pe,nextNotice:()=>ur,noticesQueue:()=>jt,popNotice:()=>Wt,showNotice:()=>zt});A();var Ht;h(e=>e.show&&e.dismiss&&!e.suppressAll,e=>Ht=e);var jt=[],Pe=null;function Wt(){Ht.dismiss()}function ur(){Pe=jt.shift(),Pe&&Ht.show(...Pe,"VencordNotice")}function zt(e,t,n){jt.push(["GENERIC",e,t,n]),Pe||ur()}be();Ue();var en={};N(en,{toggle:()=>Zt});_e();ce();var X;async function Zt(e){X?X.disabled=!e:e&&(X=document.createElement("style"),X.id="vencord-custom-css",document.head.appendChild(X),VencordNative.ipc.on(_.QUICK_CSS_UPDATE,(t,n)=>X.innerText=n),X.innerText=await VencordNative.ipc.invoke(_.GET_QUICK_CSS))}document.addEventListener("DOMContentLoaded",()=>{Zt(U.useQuickCss),dr("useQuickCss",Zt)});_e();we();m();Z();A();var mr,L=new k("WebpackInterceptor","#8caaee");Object.defineProperty(window,V,{get:()=>mr,set:e=>{e?.push!==Array.prototype.push&&(L.info(`Patching ${V}.push`),ot(e),io(),delete window[V],window[V]=e),mr=e},configurable:!0});function io(){function e(t){try{let n=t[1],{subscriptions:r,listeners:o}=Vencord.Webpack,{patches:i}=Vencord.Plugins;for(let p in n){let a=n[p],f=a.toString().replaceAll(`
`,""),y=a,w=new Set;n[p]=function(d,g,P){try{a(d,g,P)}catch(v){if(a===y)throw v;return L.error("Error in patched chunk",v),void y(d,g,P)}if(d.exports===window){Object.defineProperty(P.c,p,{value:P.c[p],enumerable:!1,configurable:!0,writable:!0});return}for(let v of o)try{v(g)}catch($){L.error("Error in webpack listener",$)}for(let[v,$]of r)try{if(v(g))r.delete(v),$(g);else if(typeof g=="object"){g.default&&v(g.default)&&(r.delete(v),$(g.default));for(let I in g)I.length<3&&g[I]&&v(g[I])&&(r.delete(v),$(g[I]))}}catch(I){L.error("Error while firing callback for webpack chunk",I)}},n[p].toString=()=>a.toString(),n[p].original=y;for(let d=0;d<i.length;d++){let g=i[d];if(f.includes(g.find)){w.add(g.plugin);for(let P of g.replacement){let v=a,$=f;try{let I=f.replace(P.match,P.replace);I===f?(L.warn(`Patch by ${g.plugin} had no effect: ${P.match}`),L.debug(`Function Source:
`,f)):(f=I,a=(0,eval)(`// Webpack Module ${p} - Patched by ${[...w].join(", ")}
${I}
//# sourceURL=WebpackModule${p}`))}catch(I){L.error("Failed to apply patch of",g.plugin,I),L.debug(`Original Source
`,$),L.debug(`Patched Source
`,f),f=$,a=v,w.delete(g.plugin)}}i.splice(d--,1)}}}}catch(n){L.error("oopsie",n)}return e.original.call(window[V],t)}e.original=window[V].push,Object.defineProperty(window[V],"push",{get:()=>e,set:t=>e.original=t,configurable:!0})}Ue();A();T();Object.defineProperty(window,"IS_WEB",{get:()=>!window.DiscordNative,configurable:!0,enumerable:!0});var Tr;async function lo(){await nt,Vt(),Tr=await Promise.resolve().then(()=>(Cr(),Pr));try{await Te()&&U.notifyAboutUpdates&&setTimeout(()=>{zt("A Vencord update is available!","View Update",()=>{Wt(),Me.open("VencordUpdater")})},1e4)}catch(e){pe.error("Failed to check for updates",e)}}lo();return Mr(po);})();
//# sourceURL=VencordRenderer
